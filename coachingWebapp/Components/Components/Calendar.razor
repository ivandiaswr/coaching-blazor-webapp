@using System.Globalization
<div class="calendar-modal @(IsVisible ? "show" : "")" @onclick="Close">
    <div class="calendar-modal-content" @onclick:stopPropagation="true">
        <div class="timezone-info">
            Timezone: <strong>@CurrentTimeZoneDisplay</strong>
        </div>
        @ChildContent
    </div>
</div>

@code {
    [Parameter] public bool IsVisible { get; set; }
    [Parameter] public EventCallback<bool> IsVisibleChanged { get; set; }
    [Parameter] public RenderFragment ChildContent { get; set; }
    [Parameter] public string CurrentTimeZoneDisplay { get; set; } = "detecting...";

    private void Close()
    {
        IsVisible = false;
        IsVisibleChanged.InvokeAsync(IsVisible);
    }
}